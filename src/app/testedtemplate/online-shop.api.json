{
  "templateId": "{{template_id}}",
  "semver": "1.0.0",
  "files": {},
  "sourceFiles": [
    { "path": "package.json", "type": "config", "encoding": "utf8", "content": "{\n  \"name\": \"online-shop\",\n  \"version\": \"1.0.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"vite --host 0.0.0.0 --port 5173\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview --host 0.0.0.0 --port 5173\"\n  },\n  \"dependencies\": {\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\",\n    \"react-router-dom\": \"^6.14.0\",\n    \"axios\": \"^1.3.0\"\n  },\n  \"devDependencies\": {\n    \"vite\": \"^4.5.0\",\n    \"@vitejs/plugin-react\": \"^3.1.0\",\n    \"typescript\": \"^5.0.0\",\n    \"tailwindcss\": \"^3.4.0\",\n    \"postcss\": \"^8.4.0\",\n    \"autoprefixer\": \"^10.4.0\"\n  }\n}" },
    { "path": "src/main.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nconst rootElement = document.getElementById('root');\nif (!rootElement) throw new Error('Failed to find the root element');\n\nconst root = ReactDOM.createRoot(rootElement);\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);" },
    { "path": "src/App.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport Home from './pages/Home';\nimport Products from './pages/Products';\nimport ProductDetail from './pages/ProductDetail';\nimport Cart from './pages/Cart';\nimport Checkout from './pages/Checkout';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"min-h-screen flex flex-col bg-gray-50\">\n      <Header brandName=\"{{header.brandName}}\" tagline=\"{{header.tagline}}\" />\n      <main className=\"flex-1\">\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/products\" element={<Products />} />\n          <Route path=\"/products/:slug\" element={<ProductDetail />} />\n          <Route path=\"/cart\" element={<Cart />} />\n          <Route path=\"/checkout\" element={<Checkout />} />\n        </Routes>\n      </main>\n      <Footer columns={{footer.columns}} newsletter={{footer.newsletter}} brandName=\"{{header.brandName}}\" />\n    </div>\n  );\n};\n\nexport default App;" },
    { "path": "src/index.css", "type": "code", "encoding": "utf8", "content": "@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  html { font-size: 16px; line-height: 1.5; color: #111827; background-color: #f9fafb; }\n  body { font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji'; margin: 0; padding: 0; }\n  h1, h2, h3, h4, h5, h6 { margin: 0; font-weight: 700; }\n  p { margin: 0; }\n}\n\n@layer components {\n  .btn { @apply px-4 py-2 rounded-lg text-white bg-green-600 hover:bg-green-500 transition duration-300 ease-in-out; }\n  .card { @apply bg-white shadow-md rounded-lg p-6 mb-4; }\n  .header { @apply bg-white border-b; }\n  .footer { @apply bg-gray-900 text-gray-200 p-6 text-center; }\n}" },
    { "path": "src/pages/Home.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Home: React.FC = () => {\n  return (\n    <div className=\"min-h-screen p-8\">\n      <div className=\"max-w-6xl mx-auto text-center\">\n        <h1 className=\"text-5xl font-extrabold mb-4 text-green-700\">{{home.heroTitle}}</h1>\n        <p className=\"text-xl text-gray-700 mb-8\">{{home.heroSubtitle}}</p>\n        <Link to=\"/products\" className=\"btn text-lg px-8 py-3\">{{home.ctaLabel}}</Link>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12\">\n          <div className=\"card\">\n            <h3 className=\"text-xl font-semibold mb-2\">{{home.feature1.title}}</h3>\n            <p className=\"text-gray-600\">{{home.feature1.text}}</p>\n          </div>\n          <div className=\"card\">\n            <h3 className=\"text-xl font-semibold mb-2\">{{home.feature2.title}}</h3>\n            <p className=\"text-gray-600\">{{home.feature2.text}}</p>\n          </div>\n          <div className=\"card\">\n            <h3 className=\"text-xl font-semibold mb-2\">{{home.feature3.title}}</h3>\n            <p className=\"text-gray-600\">{{home.feature3.text}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;" },
    { "path": "src/pages/Products.tsx", "type": "code", "encoding": "utf8", "content": "import React, { useMemo, useState } from 'react';\nimport ProductCard from '../components/ProductCard';\n\nexport interface Product { id: string; name: string; price: number; imageUrl: string; rating?: number; tags?: string[]; }\n\nconst Products: React.FC = () => {\n  const [query, setQuery] = useState('');\n  const [category, setCategory] = useState('all');\n  const [sort, setSort] = useState('new');\n\n  const products: Product[] = {{productList.products}};\n  const categories: { id: string; name: string }[] = {{productList.categories}};\n\n  const filtered = useMemo(() => {\n    let list = products.filter(p => p.name.toLowerCase().includes(query.toLowerCase()));\n    if (category !== 'all') list = list.filter(p => p.tags?.includes(category));\n    if (sort === 'price-asc') list = list.slice().sort((a,b) => a.price - b.price);\n    if (sort === 'price-desc') list = list.slice().sort((a,b) => b.price - a.price);\n    return list;\n  }, [products, query, category, sort]);\n\n  return (\n    <div className=\"min-h-screen p-8 bg-gray-100\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\">\n          <h1 className=\"text-3xl font-bold\">{{productList.title}}</h1>\n          <div className=\"flex gap-3\">\n            <input value={query} onChange={(e)=>setQuery(e.target.value)} placeholder=\"ค้นหาสินค้า...\" className=\"border rounded px-3 py-2 w-60\" />\n            <select value={category} onChange={(e)=>setCategory(e.target.value)} className=\"border rounded px-3 py-2\">\n              <option value=\"all\">ทั้งหมด</option>\n              {categories.map(c => (<option key={c.id} value={c.id}>{c.name}</option>))}\n            </select>\n            <select value={sort} onChange={(e)=>setSort(e.target.value)} className=\"border rounded px-3 py-2\">\n              <option value=\"new\">ใหม่ล่าสุด</option>\n              <option value=\"price-asc\">ราคาต่ำ-สูง</option>\n              <option value=\"price-desc\">ราคาสูง-ต่ำ</option>\n            </select>\n          </div>\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n          {filtered.map(p => (<ProductCard key={p.id} product={p} currency=\"{{i18n.currency}}\" />))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Products;" },
    { "path": "src/pages/ProductDetail.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport { useParams, Link } from 'react-router-dom';\n\nconst ProductDetail: React.FC = () => {\n  const { slug } = useParams();\n  const product = {{productDetail.product}}; // would be fetched by slug in real app\n  if (!product) return <div className=\"p-8\">ไม่พบสินค้า</div>;\n  return (\n    <div className=\"min-h-screen p-8 bg-white\">\n      <div className=\"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8\">\n        <img src={product.imageUrl} alt={product.name} className=\"w-full h-96 object-cover rounded-lg\" />\n        <div>\n          <h1 className=\"text-3xl font-bold mb-2\">{product.name}</h1>\n          <p className=\"text-2xl text-green-700 font-semibold mb-4\">{{i18n.currency}}{product.price.toLocaleString()}</p>\n          <p className=\"text-gray-700 mb-6\">{product.description}</p>\n          <div className=\"flex gap-3\">\n            <button className=\"btn\">หยิบใส่ตะกร้า</button>\n            <Link to=\"/checkout\" className=\"btn bg-blue-600 hover:bg-blue-500\">ซื้อเลย</Link>\n          </div>\n        </div>\n      </div>\n      <div className=\"max-w-5xl mx-auto mt-12\">\n        <h2 className=\"text-2xl font-semibold mb-4\">รายละเอียด</h2>\n        <div className=\"prose\">{{productDetail.descriptionHtml}}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;" },
    { "path": "src/pages/Cart.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport CartSummary from '../components/CartSummary';\n\nconst Cart: React.FC = () => {\n  const items = {{cart.items}};\n  const currency = \"{{i18n.currency}}\";\n  const total = items.reduce((s: number, it: any) => s + it.price * it.qty, 0);\n  return (\n    <div className=\"min-h-screen p-8 bg-gray-50\">\n      <div className=\"max-w-5xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-6\">ตะกร้าสินค้า</h1>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <div className=\"md:col-span-2 space-y-4\">\n            {items.map((it: any) => (\n              <div key={it.id} className=\"card flex items-center gap-4\">\n                <img src={it.imageUrl} alt={it.name} className=\"w-24 h-24 object-cover rounded\" />\n                <div className=\"flex-1\">\n                  <p className=\"font-medium\">{it.name}</p>\n                  <p className=\"text-sm text-gray-500\">x{it.qty}</p>\n                </div>\n                <div className=\"font-semibold\">{currency}{(it.price * it.qty).toLocaleString()}</div>\n              </div>\n            ))}\n          </div>\n          <CartSummary total={total} currency={currency} checkoutHref=\"/checkout\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;" },
    { "path": "src/pages/Checkout.tsx", "type": "code", "encoding": "utf8", "content": "import React, { useState } from 'react';\n\nconst Checkout: React.FC = () => {\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [payment, setPayment] = useState('cod');\n  const total = {{checkout.total}};\n  const currency = \"{{i18n.currency}}\";\n  const submit = (e: React.FormEvent) => { e.preventDefault(); alert('ชำระเงินสำเร็จ'); };\n  return (\n    <div className=\"min-h-screen p-8 bg-white\">\n      <div className=\"max-w-3xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-6\">ชำระเงิน</h1>\n        <form onSubmit={submit} className=\"space-y-4\">\n          <input value={name} onChange={(e)=>setName(e.target.value)} placeholder=\"ชื่อ-นามสกุล\" className=\"w-full p-2 border rounded\" required />\n          <textarea value={address} onChange={(e)=>setAddress(e.target.value)} placeholder=\"ที่อยู่จัดส่ง\" className=\"w-full p-2 border rounded\" required />\n          <select value={payment} onChange={(e)=>setPayment(e.target.value)} className=\"w-full p-2 border rounded\">\n            <option value=\"cod\">เก็บเงินปลายทาง</option>\n            <option value=\"card\">บัตรเครดิต/เดบิต</option>\n            <option value=\"transfer\">โอนเงิน</option>\n          </select>\n          <div className=\"flex items-center justify-between\">\n            <p className=\"text-lg\">ยอดชำระ</p>\n            <p className=\"text-2xl font-semibold text-green-700\">{currency}{total.toLocaleString()}</p>\n          </div>\n          <button type=\"submit\" className=\"btn w-full\">ยืนยันการชำระเงิน</button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;" },
    { "path": "src/components/Header.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface HeaderProps { brandName: string; tagline?: string; }\n\nconst Header: React.FC<HeaderProps> = ({ brandName, tagline }) => {\n  return (\n    <header className=\"header\">\n      <div className=\"max-w-6xl mx-auto flex items-center justify-between p-4\">\n        <Link to=\"/\" className=\"text-decoration-none\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">{brandName}</h1>\n          {tagline && <p className=\"text-sm text-gray-500\">{tagline}</p>}\n        </Link>\n        <nav className=\"flex items-center gap-4\">\n          <Link to=\"/products\" className=\"text-gray-700 hover:text-gray-900\">สินค้า</Link>\n          <Link to=\"/cart\" className=\"text-gray-700 hover:text-gray-900\">ตะกร้า</Link>\n        </nav>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;" },
    { "path": "src/components/Footer.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\n\ninterface FooterProps { brandName: string; columns: { title: string; links: { label: string; href: string }[] }[]; newsletter?: { enabled: boolean }; }\n\nconst Footer: React.FC<FooterProps> = ({ brandName, columns, newsletter }) => {\n  return (\n    <footer className=\"footer\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          {columns.map((col, idx) => (\n            <div key={idx}>\n              <h3 className=\"text-lg font-semibold mb-2\">{col.title}</h3>\n              <ul className=\"space-y-1\">\n                {col.links.map((l, i) => (\n                  <li key={i}><a className=\"hover:underline\" href={l.href}>{l.label}</a></li>\n                ))}\n              </ul>\n            </div>\n          ))}\n        </div>\n        {newsletter?.enabled && (\n          <div className=\"mt-6\">\n            <input className=\"px-3 py-2 rounded text-gray-900\" placeholder=\"อีเมลสำหรับรับข่าวสาร\" />\n          </div>\n        )}\n        <p className=\"mt-6 text-sm text-gray-400\">© {new Date().getFullYear()} {brandName}. All rights reserved.</p>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;" },
    { "path": "src/components/ProductCard.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\nimport type { Product } from '../pages/Products';\n\nconst ProductCard: React.FC<{ product: Product; currency: string }> = ({ product, currency }) => {\n  return (\n    <div className=\"bg-white rounded-lg shadow hover:shadow-lg transition p-4\">\n      <img src={product.imageUrl} alt={product.name} className=\"w-full h-48 object-cover rounded\" />\n      <h3 className=\"mt-3 font-semibold\">{product.name}</h3>\n      <p className=\"text-green-700 font-bold\">{currency}{product.price.toLocaleString()}</p>\n      <button className=\"btn w-full mt-3\">หยิบใส่ตะกร้า</button>\n    </div>\n  );\n};\n\nexport default ProductCard;" },
    { "path": "src/components/CartSummary.tsx", "type": "code", "encoding": "utf8", "content": "import React from 'react';\n\nconst CartSummary: React.FC<{ total: number; currency: string; checkoutHref: string }> = ({ total, currency, checkoutHref }) => {\n  return (\n    <aside className=\"card h-fit\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <p className=\"text-lg\">ยอดรวม</p>\n        <p className=\"text-2xl font-semibold text-green-700\">{currency}{total.toLocaleString()}</p>\n      </div>\n      <a href={checkoutHref} className=\"btn w-full\">ไปชำระเงิน</a>\n    </aside>\n  );\n};\n\nexport default CartSummary;" }
  ],
  "slots": {
    "header": {
      "type": "object",
      "component": "Header",
      "fields": [
        { "key": "brandName", "type": "text", "required": true, "validators": [{ "kind": "maxLength", "value": 40 }] },
        { "key": "tagline", "type": "text", "validators": [{ "kind": "maxLength", "value": 80 }] }
      ],
      "style": {
        "allowedClasses": {
          "header": ["bg-white","bg-gray-50","border-b","shadow","shadow-sm","p-4","p-6"],
          "brand": ["text-2xl","text-3xl","font-bold","text-gray-900"],
          "nav": ["flex","gap-3","text-gray-700","hover:text-gray-900"]
        }
      }
    },
    "footer": {
      "type": "object",
      "component": "Footer",
      "fields": [
        { "key": "columns", "type": "list", "itemShape": { "title": { "type": "text" }, "links": { "type": "list", "itemShape": { "label": { "type": "text" }, "href": { "type": "url" } } } } },
        { "key": "newsletter", "type": "object", "shape": { "enabled": { "type": "boolean" } } }
      ],
      "style": {
        "allowedClasses": {
          "footer": ["bg-gray-900","text-gray-200","p-6","p-8"],
          "link": ["text-sm","underline","hover:text-white"]
        }
      }
    },
    "home": {
      "type": "object",
      "component": "Home",
      "fields": [
        { "key": "heroTitle", "type": "text", "required": true, "validators": [{ "kind": "maxLength", "value": 60 }] },
        { "key": "heroSubtitle", "type": "text", "validators": [{ "kind": "maxLength", "value": 160 }] },
        { "key": "ctaLabel", "type": "text", "default": "เริ่มช้อป" },
        { "key": "feature1", "type": "object", "shape": { "title": { "type": "text" }, "text": { "type": "text" } } },
        { "key": "feature2", "type": "object", "shape": { "title": { "type": "text" }, "text": { "type": "text" } } },
        { "key": "feature3", "type": "object", "shape": { "title": { "type": "text" }, "text": { "type": "text" } } }
      ],
      "style": {
        "allowedClasses": {
          "title": ["text-4xl","text-5xl","font-extrabold","text-green-700","text-gray-900"],
          "cta": ["btn","text-base","text-lg","px-6","px-8","py-2","py-3"]
        }
      }
    },
    "productList": {
      "type": "object",
      "component": "ProductGrid",
      "fields": [
        { "key": "title", "type": "text", "required": true },
        { "key": "categories", "type": "list", "itemShape": { "id": { "type": "text" }, "name": { "type": "text" } } },
        {
          "key": "products",
          "type": "list",
          "itemShape": {
            "id": { "type": "text" },
            "name": { "type": "text", "validators": [{ "kind": "maxLength", "value": 60 }] },
            "price": { "type": "number" },
            "imageUrl": { "type": "image", "minWidth": 600, "aspectRatio": "4:3" },
            "rating": { "type": "number" },
            "tags": { "type": "list", "itemShape": { "value": { "type": "text" } } }
          },
          "validators": [{ "kind": "maxItems", "value": 120 }]
        }
      ],
      "style": {
        "allowedClasses": {
          "grid": ["grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4","gap-6"],
          "card": ["bg-white","rounded-lg","shadow","hover:shadow-lg","transition"]
        }
      }
    },
    "product": {
      "type": "object",
      "component": "ProductDetail",
      "fields": [
        { "key": "product", "type": "object", "shape": { "name": { "type": "text" }, "price": { "type": "number" }, "imageUrl": { "type": "image", "minWidth": 1200, "aspectRatio": "16:9" }, "description": { "type": "text" } } },
        { "key": "descriptionHtml", "type": "richtext" }
      ]
    },
    "cart": {
      "type": "object",
      "component": "Cart",
      "fields": [
        { "key": "items", "type": "list", "itemShape": { "id": { "type": "text" }, "name": { "type": "text" }, "price": { "type": "number" }, "qty": { "type": "number" }, "imageUrl": { "type": "image", "minWidth": 300, "aspectRatio": "1:1" } } }
      ]
    },
    "checkout": {
      "type": "object",
      "component": "Checkout",
      "fields": [
        { "key": "total", "type": "number" }
      ]
    },
    "i18n": {
      "type": "object",
      "component": "i18n",
      "fields": [
        { "key": "currency", "type": "text", "default": "฿" }
      ]
    }
  },
  "constraints": {
    "a11y": { "contrast": "AA", "minFontSizePx": 14, "ariaRequired": true, "keyboardNavigable": true },
    "layout": { "breakpoints": ["sm","md","lg"], "containerMaxWidth": 1200, "minTapTargetPx": 44 },
    "content": { "seo": { "titleMaxLen": 60, "descMaxLen": 160, "requireH1": true, "metaTags": ["og:title","og:description"] } },
    "assets": {
      "productList.products.imageUrl": { "minWidth": 600, "aspectRatio": "4:3" },
      "product.product.imageUrl": { "minWidth": 1200, "aspectRatio": "16:9" }
    },
    "performance": { "maxImageKb": 700, "maxCriticalCssKb": 180 },
    "security": { "disallowInlineScript": true },
    "i18n": { "noHardcodedText": false },
    "code": { "tsc": true }
  }
}

